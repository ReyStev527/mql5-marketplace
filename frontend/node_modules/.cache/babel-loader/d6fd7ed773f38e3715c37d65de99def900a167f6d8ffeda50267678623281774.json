{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useSearchParams,useNavigate}from'react-router-dom';import{Container,Card,CardContent,Typography,Button,Box,CircularProgress,Alert}from'@mui/material';import{CheckCircle,Cancel,AccessTime}from'@mui/icons-material';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MockPayment=()=>{const[searchParams]=useSearchParams();const navigate=useNavigate();const[status,setStatus]=useState('processing');// processing, success, failed\nconst[loading,setLoading]=useState(true);const token=searchParams.get('token');const orderId=searchParams.get('order_id');useEffect(()=>{// Simulate payment processing\nconst timer=setTimeout(()=>{setLoading(false);// For demo purposes, randomly succeed or fail (80% success rate)\nconst shouldSucceed=Math.random()>0.2;setStatus(shouldSucceed?'success':'failed');},3000);return()=>clearTimeout(timer);},[]);const handleContinue=()=>{if(status==='success'){navigate('/payment/success',{state:{orderId,message:'Payment completed successfully!'}});}else{navigate('/payment/error',{state:{orderId,message:'Payment failed. Please try again.'}});}};const getStatusIcon=()=>{switch(status){case'processing':return/*#__PURE__*/_jsx(CircularProgress,{size:60,color:\"primary\"});case'success':return/*#__PURE__*/_jsx(CheckCircle,{sx:{fontSize:60,color:'success.main'}});case'failed':return/*#__PURE__*/_jsx(Cancel,{sx:{fontSize:60,color:'error.main'}});default:return/*#__PURE__*/_jsx(AccessTime,{sx:{fontSize:60,color:'warning.main'}});}};const getStatusMessage=()=>{switch(status){case'processing':return'Processing your payment...';case'success':return'Payment Successful!';case'failed':return'Payment Failed';default:return'Processing...';}};const getStatusColor=()=>{switch(status){case'success':return'success';case'failed':return'error';default:return'info';}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",sx:{py:4},children:/*#__PURE__*/_jsx(Card,{sx:{textAlign:'center',p:4},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Box,{sx:{mb:3},children:getStatusIcon()}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,color:getStatusColor(),children:getStatusMessage()}),status==='processing'&&/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",sx:{mb:3},children:\"Please wait while we process your payment...\"}),status==='success'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Alert,{severity:\"success\",sx:{mb:3},children:\"Your payment has been processed successfully. You will receive your EA file shortly.\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:3},children:[\"Order ID: \",orderId]})]}),status==='failed'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},children:\"Payment processing failed. Please try again or contact support.\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:3},children:[\"Order ID: \",orderId]})]}),!loading&&/*#__PURE__*/_jsx(Box,{sx:{mt:3},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",size:\"large\",onClick:handleContinue,sx:{minWidth:200},children:\"Continue\"})}),/*#__PURE__*/_jsx(Box,{sx:{mt:3},children:/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:\"\\uD83C\\uDFAD Demo Mode - This is a simulated payment for testing purposes\"})})]})})});};export default MockPayment;","map":{"version":3,"names":["React","useEffect","useState","useSearchParams","useNavigate","Container","Card","CardContent","Typography","Button","Box","CircularProgress","Alert","CheckCircle","Cancel","AccessTime","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MockPayment","searchParams","navigate","status","setStatus","loading","setLoading","token","get","orderId","timer","setTimeout","shouldSucceed","Math","random","clearTimeout","handleContinue","state","message","getStatusIcon","size","color","sx","fontSize","getStatusMessage","getStatusColor","maxWidth","py","children","textAlign","p","mb","variant","gutterBottom","severity","mt","onClick","minWidth"],"sources":["/workspaces/mql5-marketplace/frontend/src/pages/MockPayment.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport {\n  Container,\n  Card,\n  CardContent,\n  Typography,\n  Button,\n  Box,\n  CircularProgress,\n  Alert\n} from '@mui/material';\nimport { CheckCircle, Cancel, AccessTime } from '@mui/icons-material';\n\nconst MockPayment = () => {\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const [status, setStatus] = useState('processing'); // processing, success, failed\n  const [loading, setLoading] = useState(true);\n  \n  const token = searchParams.get('token');\n  const orderId = searchParams.get('order_id');\n\n  useEffect(() => {\n    // Simulate payment processing\n    const timer = setTimeout(() => {\n      setLoading(false);\n      // For demo purposes, randomly succeed or fail (80% success rate)\n      const shouldSucceed = Math.random() > 0.2;\n      setStatus(shouldSucceed ? 'success' : 'failed');\n    }, 3000);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  const handleContinue = () => {\n    if (status === 'success') {\n      navigate('/payment/success', { \n        state: { \n          orderId,\n          message: 'Payment completed successfully!' \n        } \n      });\n    } else {\n      navigate('/payment/error', { \n        state: { \n          orderId,\n          message: 'Payment failed. Please try again.' \n        } \n      });\n    }\n  };\n\n  const getStatusIcon = () => {\n    switch (status) {\n      case 'processing':\n        return <CircularProgress size={60} color=\"primary\" />;\n      case 'success':\n        return <CheckCircle sx={{ fontSize: 60, color: 'success.main' }} />;\n      case 'failed':\n        return <Cancel sx={{ fontSize: 60, color: 'error.main' }} />;\n      default:\n        return <AccessTime sx={{ fontSize: 60, color: 'warning.main' }} />;\n    }\n  };\n\n  const getStatusMessage = () => {\n    switch (status) {\n      case 'processing':\n        return 'Processing your payment...';\n      case 'success':\n        return 'Payment Successful!';\n      case 'failed':\n        return 'Payment Failed';\n      default:\n        return 'Processing...';\n    }\n  };\n\n  const getStatusColor = () => {\n    switch (status) {\n      case 'success':\n        return 'success';\n      case 'failed':\n        return 'error';\n      default:\n        return 'info';\n    }\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4 }}>\n      <Card sx={{ textAlign: 'center', p: 4 }}>\n        <CardContent>\n          <Box sx={{ mb: 3 }}>\n            {getStatusIcon()}\n          </Box>\n          \n          <Typography variant=\"h4\" gutterBottom color={getStatusColor()}>\n            {getStatusMessage()}\n          </Typography>\n\n          {status === 'processing' && (\n            <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 3 }}>\n              Please wait while we process your payment...\n            </Typography>\n          )}\n\n          {status === 'success' && (\n            <>\n              <Alert severity=\"success\" sx={{ mb: 3 }}>\n                Your payment has been processed successfully. You will receive your EA file shortly.\n              </Alert>\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\n                Order ID: {orderId}\n              </Typography>\n            </>\n          )}\n\n          {status === 'failed' && (\n            <>\n              <Alert severity=\"error\" sx={{ mb: 3 }}>\n                Payment processing failed. Please try again or contact support.\n              </Alert>\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\n                Order ID: {orderId}\n              </Typography>\n            </>\n          )}\n\n          {!loading && (\n            <Box sx={{ mt: 3 }}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"large\"\n                onClick={handleContinue}\n                sx={{ minWidth: 200 }}\n              >\n                Continue\n              </Button>\n            </Box>\n          )}\n\n          <Box sx={{ mt: 3 }}>\n            <Typography variant=\"caption\" color=\"text.secondary\">\n              ðŸŽ­ Demo Mode - This is a simulated payment for testing purposes\n            </Typography>\n          </Box>\n        </CardContent>\n      </Card>\n    </Container>\n  );\n};\n\nexport default MockPayment;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}